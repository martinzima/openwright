<div class="flex flex-col min-h-screen bg-gray-100">
  <header class="app-header sticky top-0 z-10 shadow-md bg-white border-b border-gray-200"
    @headerAnimation>
    <div class="header-content flex items-center justify-between px-6 h-20">
      <div class="logo-container flex items-center pr-4">
        <span class="logo text-xl font-bold text-primary-600">OpenWright</span>
      </div>
      <div class="flex items-center">
         <div class="mr-4">
            <p-select 
               [options]="workspaceOptions"
               [(ngModel)]="selectedWorkspace"
               optionLabel="name" 
              placeholder="Select Workspace"
               (onChange)="onWorkspaceChange($event)" 
               [style]="{ minWidth: '200px' }"
               styleClass="p-inputtext-sm"
             />
         </div>
        <div class="main-menu flex items-center space-x-1">
           <a routerLink="/dashboard" 
              routerLinkActive="active-menuitem" 
              [routerLinkActiveOptions]="{exact: true}" 
              class="menu-item flex items-center p-3 space-x-2 hover:bg-gray-100 text-gray-700 rounded-md" >
              <lucide-icon [img]="LayoutDashboardIcon" class="menu-icon" [size]="18"></lucide-icon> 
              <span class="font-medium hidden md:inline">Dashboard</span>
           </a>
           <a routerLink="/test-runs" 
              routerLinkActive="active-menuitem" 
              class="menu-item flex items-center p-3 space-x-2 hover:bg-gray-100 text-gray-700 rounded-md">
              <lucide-icon [img]="GanttChartSquareIcon" class="menu-icon" [size]="18"></lucide-icon> 
              <span class="font-medium hidden md:inline">Test Runs</span>
           </a>
           <a routerLink="/test-suites" 
              routerLinkActive="active-menuitem" 
              class="menu-item flex items-center p-3 space-x-2 hover:bg-gray-100 text-gray-700 rounded-md">
              <lucide-icon [img]="TestSuitesIcon" class="menu-icon" [size]="18"></lucide-icon> 
              <span class="font-medium hidden md:inline">Test Suites</span> 
           </a>
        </div>
        <div class="header-actions flex items-center gap-1 pl-4 ml-4 border-l border-gray-200">
            <button pButton class="p-button-rounded p-button-text p-button-plain text-gray-600 hover:text-primary-600" pTooltip="Notifications">
              <lucide-icon [img]="BellIcon" size="20"></lucide-icon>
            </button>
            <button pButton class="p-button-rounded p-button-text p-button-plain text-gray-600 hover:text-primary-600" pTooltip="Help">
              <lucide-icon [img]="HelpCircleIcon" size="20"></lucide-icon>
            </button>
            <button pButton 
                    routerLink="/settings" 
                    class="p-button-rounded p-button-text p-button-plain text-gray-600 hover:text-primary-600" 
                    pTooltip="Settings">
              <lucide-icon [img]="SettingsIcon" size="20"></lucide-icon>
            </button>
           <p-avatar label="U" styleClass="ml-2 cursor-pointer" shape="circle" pTooltip="User Settings"></p-avatar>
         </div>
      </div>
    </div>
  </header>
  <main class="flex-grow p-4 md:p-6 lg:p-8"> 
    <router-outlet></router-outlet> 
  </main>
  <footer class="bg-gray-200 text-gray-600 text-center py-3 text-xs">
    OpenWright &copy; {{ currentYear }} | <a href="https://openwright.io" target="_blank">openwright.io</a>
  </footer>
</div> 